# Plutus Project Template

Template repository of a Plutus Project.

This templte project sturcture also specifies how to store and structure the source code and report of a standard Plutus Project.

This `README.md` file serves as an example how a this will look like in a standard Plutus project. Below listed out the sample section.

## Abstract
- Summarize the project: motivation, methods, findings, etc. 

## Introduction
- Briefly introduce the project.
- Problem statement, research question or the hypothesis.
- Method(s) to solve the problem
- What are the results?

## Related Work (or Background)
- Prerequisite reading if the audience needs knowledge before exploring the project.
- Optional

## Trading (Algorithm) Hypotheses
- Describe the Trading Hypotheses
- Step 1 of the Nine-Step

## Data
- Data source
- Data type
- Data period
- How to get the input data?
- How to store the output data?
### Data collection
- Step 2 of the Nine-Step
### Data Processing
- Step 3 of the Nine-Step

## Implementation
- Briefly describe the implemetation.
    - How to set up the enviroment to run the source code and required steps to replicate the results
    - Discuss the concrete implementation if there are any essential details
    - How to run each step from `In-sample Backtesting`, Step 4 to `Out-of-sample Backtesting`, Step 6 (or `Paper Trading`, Step 7).
    - How to change the algorithm configurations for different run.
- Most important section and need the most details to correctly replicate the results.
### Environment Setup
1. Set up Python Virtual Environment
```
python3 -m venv venv
python -m venv venv
source venv/bin/activate # for Linux/MacOS
.\venv\Scripts\activate.bat # for Windows command line
.\venv\Scripts\Activate.ps1 # for Windows PowerShell
```
2. Install the required packages
```
pip install -r requirements.txt
```
3. (OPTIONAL) Create `.env` file in the directory `src` of the project and fill in the required information. The `.env` file is used to store environment variables that are used in the project. The following is an example of a `.env` file:
```
DB_NAME=<database name>
DB_USER=<database user name>
DB_PASSWORD=<database password>
DB_HOST=<host name or IP address>
DB_PORT=<database port>
DATA_PATH=<path to the data folder of your choice, if not specified, the default is `data`>
```
The DATA_PATH variable is used to specify the path to the data folder where the input data is stored. The other variables are used to connect to the database.

### Data Collection and Preprocessing
**Option 1. Using Available Data Files**
All available data files are located in the `src/data/` directory.

**Option 2. Run code to collect data**
This command runs the `src/preprocess.py` script to extract and preprocess market data between specified dates with a defined resampling interval.
- `--start_date`: The beginning date of the data range (format: YYYY-MM-DD).

- `--end_date`: The ending date of the data range (format: YYYY-MM-DD).

- `--interval`: The time interval for resampling the data using pandas (default: 5T, which means 5-minute intervals).
```
python3 src/preprocess.py --start_date 2023-01-01 --end_date 2023-12-31 --interval 5T
```
This example processes data from January 1, 2023, to December 31, 2023, and resamples it into 5-minute intervals. The process may take approximately 2¡V3 minutes to complete.

The resulting file will be saved in the `<DATA_PATH>` directory (default `src/data/`) under the name: `start_date_to_end_date_by_interval.csv`
For example:
```
src/data/2023-01-01_to_2023-12-31_by_5T.csv
```

The CSV file will include the following columns:
```
,Date,Time,tickersymbol,Open,Close,High,Low,Volume
1,2023-01-03,09:00:00,VN30F2301,1000.7,1002.0,1002.6,1000.7,186
```

## In-sample Backtesting
In the `src/parameters.csv` file, key hyperparameters for our hypothesis are set to default values for in-sample backtesting. These include settings for indicators such as EMA, RSI, ATR, and volume thresholds, as well as risk management parameters like stop-loss and take-profit levels.

```
EMA_Short,EMA_Long,RSI_Period,RSI_lower,RSI_upper,ATR_period,Max_Loss,Min_Profit,ATR_Mult,Volume_Threshold,Volume_window,RSI_exit_threshold
10,30,14,45,55,14,3.0,0.5,1.5,1.2,10,50

```
For this project, we use data from the period 2023-01-01 to 2023-12-01 with a 5T interval as the in-sample period. By default, the data file is saved in `src/data` if you do not define DATAPATH in `src/.env`.
- `--dataset`: specify the dataset file to be used
- `--result_dir`: specify the directory for saving charts, trade logs, and portfolio values
- `--parameters`: specify the directory for parameters.
```
python src/backtesting.py --dataset 2023-01-01_to_2023-12-31_by_5T.csv --result_dir result_in_sample --parameters src/parameters.csv
```
### In-sample Backtesting Result
- Brieftly shown the result: table, image, etc.
- Has link to the In-sample Backtesting Report

## Optimization
- Describe the Optimization step
    - Optimization process/methods/library
    - Parameters to optimize
    - Hyper-parameter of the optimize process
- Step 5 of the Nine-Step
### Optimization Result
- Brieftly shown the result: table, image, etc.
- Has link to the Optimization Report

## Out-of-sample Backtesting
After optimization, we identified the top 5 parameter sets with the highest Sharpe ratios. The results are saved in `/OPTIMIZATION_RANDOM/parameters.csv`, and the top 5 are listed below.
```
SampleIndex,EMA_Short,EMA_Long,RSI_Period,RSI_lower,RSI_upper,ATR_period,Max_Loss,Min_Profit,ATR_Mult,Volume_Threshold,Volume_window,RSI_exit_threshold,Sharpe,mdd,net_profit
271,10,25,18,25,70,14,2.5,1,1,1.2,20,45,2.782016973,-0.07720320466,29702000
1634,8,40,14,35,70,21,5,1,1,0.8,10,45,2.717278496,-0.07548636353,41320000
974,5,20,18,35,70,14,4.5,1,1,0.8,15,50,2.674389187,-0.06388517122,36240000
2500,15,25,18,25,70,14,1.5,1,1,0.8,20,50,2.594883786,-0.07613530181,29810000
2358,10,30,18,25,70,21,2,0.5,1,0.8,15,55,2.573981968,-0.07130522918,30525000
```
For out-of-sample backtesting, we use data from the period 2024-01-01 to 2025-01-01 with a 5T interval as the in-sample period. By default, the data file is saved in `src/data` if you do not define DATAPATH in `src/.env`.


```
python src/backtesting.py --dataset 2024-01-01_to_2025-01-01_by_5T.csv --result_dir result_out_sample --parameters src/parameters.csv
```

### Out-of-sample Backtesting Reuslt
- Brieftly shown the result: table, image, etc.
- Has link to the Out-of-sample Backtesting Report

## Paper Trading
- Describe the Paper Trading step
- Step 7 of the Nine-Step
- Optional
### Optimization Result
- Brieftly shown the result: table, image, etc.
- Has link to the Paper Trading Report


## Conclusion
- What is the conclusion?
- Optional

## Reference
- All the reference goes here.

## Other information
- Link to the Final Report (Paper) should be somewhere in the `README.md` file.
- Please make sure this file is relatively easy to follow.
